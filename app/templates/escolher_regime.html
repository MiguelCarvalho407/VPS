{% extends 'FC_APP/fcBase.html' %}
{% block content %}
<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-lg-6 col-md-8">
      <div class="card shadow-sm rounded-4">
        <div class="card-body p-4">

          <h3 class="text-center mb-4 fw-semibold">
            Escolhe o regime e avalia o mês anterior
          </h3>

          <form method="post" id="regime-form">
            {% csrf_token %}

            <!-- REGIME -->
            <h5 class="mb-3">Regime</h5>
            {% for radio in form.regime %}
              <div class="form-check mb-2">
                {{ radio.tag }}
                <label class="form-check-label" for="{{ radio.id_for_label }}">
                  {{ radio.choice_label }}
                </label>
              </div>
            {% endfor %}

            <hr>

            <!-- AVALIAÇÃO MENSAL -->
            <h5 class="mb-3">Nível de satisfação (mês passado)</h5>
            {% for radio in form.nivel_satisfacao %}
              <div class="form-check form-check-inline">
                {{ radio.tag }}
                <label class="form-check-label" for="{{ radio.id_for_label }}">
                  {{ radio.choice_label }}
                </label>
              </div>
            {% endfor %}

            {% if trimestre %}
              <hr>
              <h5 class="mb-3">
                Nível de satisfação relativo ao último trimestre
              </h5>
            
              {% for radio in form.nivel_satisfacao_trimestral %}
                <div class="form-check form-check-inline">
                  {{ radio.tag }}
                  <label class="form-check-label" for="{{ radio.id_for_label }}">
                    {{ radio.choice_label }}
                  </label>
                </div>
              {% endfor %}
            {% endif %}

            <button type="submit" class="btn btn-primary w-100 mt-4" id="btn-submit">
              Confirmar
            </button>

          </form>

        </div>
      </div>
    </div>
  </div>
</div>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<script>
document.addEventListener("DOMContentLoaded", function () {
    const form = document.getElementById("regime-form");
    const btn = document.getElementById("btn-submit");

    if (!form || !btn) return;

    form.addEventListener("submit", function () {
        btn.disabled = true;
        btn.innerText = "Aguarde...";
    });
});
</script>

{% endblock %}
